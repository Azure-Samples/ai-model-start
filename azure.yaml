# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-dev/main/schemas/v1.0/azure.yaml.json
name: foundry-models-starter
metadata:
  template: foundry-models-starter
infra:
  provider: bicep
  path: infra
hooks:
  postprovision:
    shell: sh
    run: |
      echo "Writing .env file..."
      envFile="${PROJECT_DIR:-.}/.env"
      echo "# Auto-generated by azd â€” $(date -u +%Y-%m-%dT%H:%M:%SZ)" > "$envFile"
      echo "AZURE_AI_PROJECT_ENDPOINT=$(azd env get-value AZURE_AI_PROJECT_ENDPOINT)" >> "$envFile"
      echo "AZURE_MODEL_DEPLOYMENT_NAME=$(azd env get-value AZURE_MODEL_DEPLOYMENT_NAME)" >> "$envFile"
      echo "AZURE_MODEL_2_DEPLOYMENT_NAME=$(azd env get-value AZURE_MODEL_2_DEPLOYMENT_NAME)" >> "$envFile"
      echo ".env written successfully"
